<div class="users-wrapper">
  <!-- Sidebar Component -->
  <app-sidebar></app-sidebar>

  <!-- Main Content -->
  <div class="main-content">
    <div class="users-container">
      <!-- Header -->
      <div class="header">
        <div class="header-left">
          <h1>My Companies</h1>
          <p class="sub-header">Manage your Companies</p>
        </div>
        <div class="header-right">
          <button class="btn btn-primary" (click)="navigateToFirmCreation()">
            <svg viewBox="0 0 24 24" width="18" height="18">
              <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
            Add New Company
          </button>
        </div>
      </div>

      <!-- Users Table Card -->
      <div class="table-card">
        <div class="table-header">
          <div class="search-section">
            <div class="search-box">
              <svg viewBox="0 0 24 24" width="18" height="18">
                <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
              </svg>
              <input type="text" placeholder="Search users..." />
            </div>
          </div>
          <div class="filter-section">
            <select class="filter-select">
              <option>All Roles</option>
              <option>System Admin</option>
              <option>Manager</option>
              <option>User</option>
            </select>
          </div>
        </div>

        <div class="table-container">
         <table class="firm-table">
                <thead>
                  <tr>
                    <th>Transport</th>
                    <th>Place</th>
                    <th>PAN No</th>
                    <th>Transport Id</th>
                    <th>Status</th>
                    <th style="width:120px;">Actions</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let firm of  firms">
                    <td>{{ firm.firmName }}</td>
                    <td>{{ firm.firmPlace }}</td>
                    <td>{{ firm.firmPan }}</td>
                    <td>{{ firm.firm_transId }}</td>
                    <!-- Status -->
                    <td>
                      <span class="status-badge" [ngClass]="firm.active ? 'active' : 'inactive'">
                        {{ firm.active ? 'Active' : 'Inactive' }}
                      </span>
                    </td>

                    <!-- Actions -->
                    <td class="actions">


                      <!-- Edit -->
                      <button class="icon-btn edit" (click)="editFirm(firm)" title="Edit">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                          <path fill="currentColor"
                            d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm18-11.5a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75L21 5.75z" />
                        </svg>
                      </button>

                      <!-- Activate / Deactivate -->
                      <button class="icon-btn" [ngClass]="firm.active ? 'deactivate' : 'activate'"
                        (click)="toggleFirmStatus(firm)" [title]="firm.active ? 'Deactivate' : 'Activate'">

                        <svg *ngIf="firm.active" viewBox="0 0 24 24" width="16" height="16">
                          <path fill="currentColor" d="M19 13H5v-2h14v2z" />
                        </svg>

                        <!-- INACTIVE â†’ check icon -->
                        <svg *ngIf="!firm.active" viewBox="0 0 24 24" width="16" height="16">
                          <path fill="currentColor" d="M9 16.2l-3.5-3.5L4 14.2l5 5 11-11-1.5-1.5z" />
                        </svg>
                      </button>

                    </td>


                  </tr>
                </tbody>
              </table>

        </div>
      </div>
    </div>
  </div>
</div>