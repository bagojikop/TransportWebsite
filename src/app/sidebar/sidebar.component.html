<div class="sidebar">
  <div class="sidebar-header">
    <h2>DSS ERP</h2>
    <p>Transport Management</p>
  </div>

  <div class="sidebar-menu">
    <!-- Dashboard Option -->
    <div class="menu-item" [class.active]="activeMenu === 'dashboard'" (click)="onDashboardClick()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M3 10L12 3L21 10V20H15V14H9V20H3V10Z" stroke="currentColor" fill="none"/>
          <rect x="3" y="3" width="18" height="18" stroke="currentColor" fill="none" rx="2"/>
        </svg>
      </div>
      <span class="menu-text">Dashboard</span>
    </div>

   

    <!-- Tenants Option -->
    <div class="menu-item" [class.active]="activeMenu === 'tenants'" (click)="onTenantsClick()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12Z" stroke="currentColor" fill="none"/>
          <path d="M20 21V19C20 16.79 18.21 15 16 15H8C5.79 15 4 16.79 4 19V21" stroke="currentColor" fill="none" stroke-linecap="round"/>
          <path d="M22 21H2" stroke="currentColor" stroke-linecap="round"/>
        </svg>
      </div>
      <span class="menu-text">Tenants</span>
    </div>

    <!-- Transporters Option -->
    <div class="menu-item" [class.active]="activeMenu === 'transporters'" (click)="onTransportersClick()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <rect x="2" y="7" width="20" height="12" rx="2" stroke="currentColor" fill="none"/>
          <path d="M16 7V5C16 3.9 15.1 3 14 3H10C8.9 3 8 3.9 8 5V7" stroke="currentColor" fill="none"/>
          <circle cx="7" cy="15" r="2" stroke="currentColor" fill="none"/>
          <circle cx="17" cy="15" r="2" stroke="currentColor" fill="none"/>
        </svg>
      </div>
      <span class="menu-text">My Companies</span>
    </div>

    

     <!-- User Management Dropdown -->
    <div class="menu-item has-dropdown" [class.active]="isUserManagementOpen" (click)="toggleUserManagement()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12Z" stroke="currentColor" fill="none"/>
          <path d="M20 21V19C20 16.79 18.21 15 16 15H8C5.79 15 4 16.79 4 19V21" stroke="currentColor" fill="none" stroke-linecap="round"/>
        </svg>
      </div>
      <span class="menu-text">User Management</span>
      <span class="dropdown-arrow">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
    </div>

    <!-- User Management Submenu -->
    <div class="submenu" *ngIf="isUserManagementOpen">
      <!-- Users Option -->
      <div class="submenu-item" [class.active]="activeMenu === 'users'" (click)="onUsersClick()">
        <div class="submenu-icon">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12Z" stroke="currentColor" fill="none"/>
            <path d="M20 21V19C20 16.79 18.21 15 16 15H8C5.79 15 4 16.79 4 19V21" stroke="currentColor" fill="none" stroke-linecap="round"/>
          </svg>
        </div>
        <span class="submenu-text">Users</span>
      </div>

      <!-- Permissions Dropdown -->
      <div class="submenu-item has-subdropdown" [class.active]="isPermissionsOpen" (click)="togglePermissions($event)">
        <div class="submenu-icon">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" fill="none"/>
            <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <span class="submenu-text">Permissions</span>
        <span class="subdropdown-arrow">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </span>
      </div>

      <!-- Permissions Submenu -->
      <div class="sub-submenu" *ngIf="isPermissionsOpen">
        <div class="sub-submenu-item" [class.active]="activeMenu === 'user-access'" (click)="onUserAccessClick()">
          <div class="sub-submenu-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12Z" stroke="currentColor" fill="none"/>
              <path d="M20 21V19C20 16.79 18.21 15 16 15H8C5.79 15 4 16.79 4 19V21" stroke="currentColor" fill="none" stroke-linecap="round"/>
              <path d="M17 9L20 12L23 9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <span class="sub-submenu-text">User Access</span>
        </div>
        <div class="sub-submenu-item" [class.active]="activeMenu === 'module-access'" (click)="onModuleAccessClick()">
          <div class="sub-submenu-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" fill="none"/>
              <path d="M8 8H16M8 12H16M8 16H12" stroke="currentColor" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="sub-submenu-text">Module Access</span>
        </div>
      </div>
    </div>

    <!-- Profile Option -->
    <div class="menu-item" [class.active]="activeMenu === 'profile'" (click)="onProfileClick()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12Z" stroke="currentColor" fill="none"/>
          <path d="M20 21V19C20 16.79 18.21 15 16 15H8C5.79 15 4 16.79 4 19V21" stroke="currentColor" fill="none" stroke-linecap="round"/>
        </svg>
      </div>
      <span class="menu-text">Profile</span>
    </div>
  </div>

  <div class="sidebar-footer">
    <!-- Logout Option -->
    <div class="menu-item" (click)="onLogoutClick()">
      <div class="menu-icon">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M15 4L19 4C20.1 4 21 4.9 21 6L21 18C21 19.1 20.1 20 19 20L15 20" stroke="currentColor" stroke-linecap="round"/>
          <path d="M10 16L14 12L10 8" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 12L2 12" stroke="currentColor" stroke-linecap="round"/>
        </svg>
      </div>
      <span class="menu-text">Logout</span>
    </div>
  </div>
</div>