<div class="profile-wrapper">

  <app-sidebar></app-sidebar>

  <div class="main-content">

    <div class="profile-container">

      <!-- Header -->
      <div class="header">

        <div>
          <h1>Profile</h1>
          <p class="sub-header">Manage your personal information</p>
        </div>

        <div class="header-actions">

          <button class="edit-btn" (click)="toggleEdit()">

            {{ isEditing ? 'Cancel' : 'Edit Profile' }}

          </button>

        </div>

      </div>


      <!-- Profile Card -->
      <div class="profile-card">

        <!-- Avatar -->
        <div class="profile-avatar-section">

          <div class="avatar-large">

            {{ getInitials() }}

          </div>

          <div class="avatar-info">

            <h3>{{ entity?.customerName }}</h3>

            <p>{{ entity?.email }}</p>

          </div>

        </div>


        <!-- VIEW MODE -->
        <div class="profile-details" *ngIf="!isEditing">

          <div class="details-grid">

            <div class="detail-item">

              <span class="detail-label">Customer Name</span>

              <span class="detail-value">

                {{ entity.customerName }}

              </span>

            </div>


            <div class="detail-item">

              <span class="detail-label">Email Address</span>

              <span class="detail-value">

                {{ entity?.email }}

              </span>

            </div>


            <div class="detail-item">

              <span class="detail-label">Contact Number</span>

              <span class="detail-value">

                {{ entity?.phone }}

              </span>

            </div>


            <div class="detail-item">

              <span class="detail-label">GSTIN</span>

              <span class="detail-value">

                {{ entity?.gstin || 'Not provided' }}

              </span>

            </div>


            <div class="detail-item full-width">

              <span class="detail-label">Address</span>

              <span class="detail-value address-text">

                {{ entity?.address || 'Not provided' }}

              </span>

            </div>

          </div>

        </div>


        <!-- EDIT MODE -->
        <div class="profile-edit" *ngIf="isEditing">

          <div class="form-row">

            <div class="form-group">

              <label>Customer Name</label>

              <input
                type="text"
                [(ngModel)]="entity.customerName"
                class="form-control"
              >

            </div>


            <div class="form-group">

              <label>Email</label>

              <input
                type="email"
                [(ngModel)]="entity.email"
                class="form-control"
              >

            </div>

          </div>


          <div class="form-row">

            <div class="form-group">

              <label>Phone</label>

              <input
                type="text"
                [(ngModel)]="entity.phone"
                class="form-control"
              >

            </div>


            <div class="form-group">

              <label>GSTIN</label>

              <input
                type="text"
                [(ngModel)]="entity.gstin"
                class="form-control"
              >

            </div>

          </div>


          <div class="form-group">

            <label>Address</label>

            <input
              type="text"
              [(ngModel)]="entity.address"
              class="form-control"
            >

          </div>


          <div class="form-actions">

            <button class="btn-save"
              (click)="save()"
              [disabled]="isSaving">

              {{ isSaving ? 'Saving...' : 'Save Changes' }}

            </button>

          </div>

        </div>


      </div>

    </div>

  </div>

</div>
