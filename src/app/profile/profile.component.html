<div class="profile-wrapper">
  <!-- Sidebar Component -->
  <app-sidebar></app-sidebar>

  <!-- Main Content -->
  <div class="main-content">
    <div class="profile-container">
      <!-- Header -->
      <div class="header">
        <h1>Profile</h1>
        <p class="sub-header">Our personal information and subscription details</p>
      </div>

      <div class="profile-grid">
        <!-- Personal Information Card -->
        <div class="profile-card">
          <div class="card-header">
            <h2>Personal Information</h2>
            <button class="edit-btn" (click)="toggleEdit()">
              <svg *ngIf="!isEditing" viewBox="0 0 24 24" width="18" height="18">
                <path fill="currentColor" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
              </svg>
              {{ isEditing ? 'Cancel' : 'Edit Profile' }}
            </button>
          </div>
          
          <!-- View Mode -->
          <div *ngIf="!isEditing">
            <div class="info-group">
              <label>FULL NAME</label>
              <p>{{ profileData.fullName }}</p>
            </div>

            <div class="info-group">
              <label>EMAIL ADDRESS</label>
              <p>{{ profileData.email }}</p>
            </div>

            <div class="info-group">
              <label>CONTACT NUMBER</label>
              <p>{{ profileData.contactNo }}</p>
            </div>

            <div class="info-group">
              <label>ADDRESS</label>
              <p>{{ profileData.address }}</p>
            </div>
          </div>

          <!-- Edit Mode -->
          <div *ngIf="isEditing">
            <form #profileForm="ngForm">
              <div class="form-group">
                <label>FULL NAME <span class="required">*</span></label>
                <input 
                  type="text" 
                  name="fullName"
                  class="form-control"
                  [(ngModel)]="profileData.fullName"
                  #fullName="ngModel"
                  required
                />
                <div *ngIf="fullName.invalid && fullName.touched" class="error-message">
                  Full name is required
                </div>
              </div>

              <div class="form-group">
                <label>EMAIL ADDRESS <span class="required">*</span></label>
                <input 
                  type="email" 
                  name="email"
                  class="form-control"
                  [(ngModel)]="profileData.email"
                  #email="ngModel"
                  required
                  email
                />
                <div *ngIf="email.invalid && email.touched" class="error-message">
                  Please enter a valid email address
                </div>
              </div>

              <div class="form-group">
                <label>CONTACT NUMBER <span class="required">*</span></label>
                <input 
                  type="tel" 
                  name="contactNo"
                  class="form-control"
                  [(ngModel)]="profileData.contactNo"
                  #contactNo="ngModel"
                  required
                  pattern="^[+][0-9]{1,3}[0-9]{10}$"
                />
                <div *ngIf="contactNo.invalid && contactNo.touched" class="error-message">
                  Please enter a valid contact number (e.g., +91 9876543210)
                </div>
              </div>

              <div class="form-group">
                <label>ADDRESS</label>
                <textarea 
                  name="address"
                  class="form-control"
                  rows="3"
                  [(ngModel)]="profileData.address"
                  #address="ngModel"
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="button" class="btn-save" (click)="saveProfile()" [disabled]="profileForm.invalid">
                  Save Changes
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Subscription Information Card -->
        <div class="subscription-card">
          <h2>Subscription Information</h2>
          
          <div class="plan-section">
            <span class="plan-badge">Enterprise</span>
            <span class="plan-price">49,999/year</span>
          </div>

          <div class="subscription-details">
            <div class="detail-row">
              <div class="detail-item">
                <label>SUBSCRIPTION ID</label>
                <p>SUB-DSS-2026-001</p>
              </div>
              <div class="detail-item">
                <label>START DATE</label>
                <p>01 Jan 2026</p>
              </div>
            </div>

            <div class="detail-row">
              <div class="detail-item">
                <label>PAYMENT METHOD</label>
                <p>VISA ...... 4242</p>
              </div>
              <div class="detail-item">
                <label>STATUS</label>
                <p><span class="status-badge">Active</span></p>
              </div>
            </div>

            <div class="detail-row">
              <div class="detail-item">
                <label>RENEWAL DATE</label>
                <p>31 Dec 2026</p>
              </div>
              <div class="detail-item">
                <label>AUTO RENEWAL</label>
                <p><span class="auto-renewal">Enabled</span></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>